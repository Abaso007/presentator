import{S as C,i as L,s as T,L as V,c as h,m as v,t as k,a as x,d as w,p as j,r as q,b as A,e as H,f as I,g as u,h as y,j as m,k as g,l as p,n as b}from"./index-Mu1yM_cN.js";function M(i){let e;return{c(){e=u("div"),e.innerHTML='<div class="content txt-center"><p>Invalid or expired verification token.</p></div>',m(e,"class","alert alert-danger m-0")},m(a,t){g(a,e,t)},d(a){a&&b(e)}}}function P(i){let e;return{c(){e=u("span"),m(e,"class","loader")},m(a,t){g(a,e,t)},d(a){a&&b(e)}}}function z(i){let e,a,t,c,n,l,o,d;t=new I({});function $(r,_){if(r[1])return P;if(!r[0])return M}let f=$(i),s=f&&f(i);return{c(){e=u("div"),a=u("header"),h(t.$$.fragment),c=y(),n=u("div"),l=u("h4"),l.textContent=`${S}`,o=y(),s&&s.c(),m(a,"class","block txt-center m-b-base"),m(l,"class","m-b-base"),m(n,"class","panel txt-center"),m(e,"class","wrapper wrapper-sm m-b-base entrance-top")},m(r,_){g(r,e,_),p(e,a),v(t,a,null),p(e,c),p(e,n),p(n,l),p(n,o),s&&s.m(n,null),d=!0},p(r,_){f!==(f=$(r))&&(s&&s.d(1),s=f&&f(r),s&&(s.c(),s.m(n,null)))},i(r){d||(k(t.$$.fragment,r),d=!0)},o(r){x(t.$$.fragment,r),d=!1},d(r){r&&b(e),w(t),s&&s.d()}}}function B(i){let e,a;return e=new V({props:{fullpage:!0,header:!1,title:S,$$slots:{default:[z]},$$scope:{ctx:i}}}),{c(){h(e.$$.fragment)},m(t,c){v(e,t,c),a=!0},p(t,[c]){const n={};c&19&&(n.$$scope={dirty:c,ctx:t}),e.$set(n)},i(t){a||(k(e.$$.fragment,t),a=!0)},o(t){x(e.$$.fragment,t),a=!1},d(t){w(e,t)}}}const S="Confirm verification";function D(i,e,a){let{params:t}=e,c=!0,n=!1;l();async function l(){if(!n){a(1,n=!0);try{await j.collection("users").confirmVerification(t==null?void 0:t.token),a(0,c=!0),q(),A("Successfully activated your account.",4e3),H("/login")}catch{a(0,c=!1)}a(1,n=!1)}}return i.$$set=o=>{"params"in o&&a(2,t=o.params)},[c,n,t]}class F extends C{constructor(e){super(),L(this,e,D,B,T,{params:2})}}export{F as default};
